"use strict";!function(i){i(".name").html(i.cookie("username")),console.log(i.cookie("username")),i.cookie("username")||(alert("请登录账号"),location.href="./index.html"),i(".outname").on("click",function(){confirm("是否退出账号")&&(i.cookie("username","",{expiress:-1}),location.href="./index.html")});var t=i.cookie("id").split(","),a=i.cookie("num").split(","),n="";i(t).each(function(e){!function(e,t){i.ajax({type:"GET",url:"http://10.31.158.25/1905/YOho_lipengpeng/php/details.php",data:{id:e},dataType:"JSON"}).done(function(e){n+='\n            <li class="pre-sell-box tr active">\n                <div class="pay-pro td " style="width: 368px;">\n                    <i class="cart-item-check iconfont "checked=""></i>\n                    \x3c!-- 回到详情页部分 --\x3e\n                    <a class="pay-pro-icon" href="./details?id='+e[0].id+'" target="_blank">\n                        \x3c!-- 图片显示部分 --\x3e\n                        <img src="'+e[0].pictrue+'">\n                    </a>\n                    <p class="pay-pro-info">\n                        \x3c!-- 回到详情部分 --\x3e\n                        <a href="./details?id='+e[0].id+'" target="_blank" >\n                            \x3c!-- 产品标题 --\x3e\n                            '+e[0].title+'\n                        </a>\n                    </p>\n                </div>\n                <div class="product-price td " style="width:148px;">\n                \x3c!-- 产品价格部分 --\x3e\n                    <p class="p-product-price">¥'+e[0].price+'</p>\n                </div>\n                <div style="width:128px;" class="adjust-cart-num td">\n                    <div class="cart-num-cont" data-num="'+e[0].id+'">\n                        <span class="minus cart-num-btn disabled">\n                            \x3c!-- 产品减少部分 --\x3e\n                            <i class="jianjian"> - </i>\n                        </span>\n                        \x3c!-- 产品数量部分 --\x3e\n                        <input type="text" value="'+t+'" readonly="readonly">\n                        <span class="plus cart-num-btn ">\n                            \x3c!-- 产品加购部分 --\x3e\n                            <i class="jiajia"> + </i>\n                        </span>\n                    </div>\n                </div>\n                <div style="width:160px;" class="sub-total red td">\n                    ¥'+parseInt(e[0].price)*t+'.00\n                </div>\n                <div style="width:100px;" class="cart-operation td">\n                    <span class="cart-del-btn" data-num="'+e[0].id+'">删除</span>\n                </div>\n            </li>\n            ',i(".cart-table .table").html(n)})}(t[e],a[e])})}(jQuery),function(s){var t="";function i(e,t){var i=[],a=[],n=e,c=parseInt(t);s.cookie("id")&&s.cookie("num")&&(i=s.cookie("id").split(","),a=s.cookie("num").split(",")),a[i.indexOf(n)]=c,s.cookie("num",a.toString())}s(".table.table-group").on("click",".minus",function(){t=s(this).next().val(),--t<=1?(s(".minus").addClass("disabled"),t=1):s(".minus").removeClass("disabled"),s(this).next().val(t);var e=s(this).parent().parent().prev().html().replace(/[^0-9]/gi,"")/100;s(this).parent().parent().next().html("¥"+e*t),i(s(this).parent().attr("data-num"),t)}),s(".table.table-group").on("click",".plus",function(){t=s(this).prev().val(),1!=++t&&s(".minus").removeClass("disabled"),s(this).prev().val(t);var e=s(this).parent().parent().prev().html().replace(/[^0-9]/gi,"")/100;s(this).parent().parent().next().html("¥"+e*t),console.log(s(this).parent().attr("data-num"),t),i(s(this).parent().attr("data-num"),t)})}(jQuery),function(n){function e(){n(".ins").html(n(".table .cart-item-checked").length)}n(".left,.fixed-option>i,.ord-sell-title>i").on("mousedown",function(){n(".cart-item-check-title").is(".cart-item-checked")?(n(".cart-item-check-title").removeClass("cart-item-checked"),n(".cart-item-check").removeClass("cart-item-checked")):(n(".cart-item-check-title").addClass("cart-item-checked"),n(".cart-item-check").addClass("cart-item-checked")),e()}),n(".table").on("click",".cart-item-check",function(){n(this).is(".cart-item-checked")?(n(this).removeClass("cart-item-checked"),n(".table li").length!=n(".table .cart-item-checked").length&&n(".left>i,.ord-sell-title>i,.fixed-option>i").removeClass("cart-item-checked")):(n(this).addClass("cart-item-checked"),n(".table li").length==n(".table .cart-item-checked").length&&(n(".cart-item-check-title").addClass("cart-item-checked"),n(".cart-item-check").addClass("cart-item-checked"))),e()}),n(".table").on("click",".cart-del-btn",function(){!function(e){var t=[],i=[];n.cookie("id")&&n.cookie("num")&&(t=n.cookie("id").split(","),i=n.cookie("num").split(","));var a=t.indexOf(e);t.splice(a,1),i.splice(a,1),n.cookie("id",t.toString()),n.cookie("num",i.toString())}(n(this).attr("data-num")),location.reload()}),n(".emptyDisabled").on("click",function(){n.cookie("id","",{expiress:-1}),n.cookie("num","",{expiress:-1}),location.reload()})}(jQuery);