"use strict";var _createClass=function(){function n(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,t,e){return t&&n(i.prototype,t),e&&n(i,e),i}}();function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}!function(t){function i(){_classCallCheck(this,i),this.banner=t(".slide-wrapper"),this.baimg=t(".slide-wrapper li"),this.thumb=t(".thumb-pagination li"),this.left=t(".slide-switch .prev"),this.right=t(".slide-switch .next"),this.num=0,this.timer=""}(new(_createClass(i,[{key:"init",value:function(){var i=this;this.thumb.on("mouseover",function(){i.num=t(this).index(),i.mover(i.num)}),this.left.on("click",function(){i.num--,i.num<0&&(i.num=i.thumb.length-1),i.mover(i.num)}),this.right.on("click",function(){i.num++,i.num>i.thumb.length-1&&(i.num=0),i.mover(i.num)}),t(".thumb-pagination").hover(function(){clearInterval(i.timer)},function(){i.autoplay()}),t("#slider").hover(function(){t(".slide-switch").removeClass("hide").addClass("show"),clearInterval(i.timer)},function(){t(".slide-switch").removeClass("show").addClass("hide"),i.autoplay()}),this.autoplay()}},{key:"mover",value:function(i){this.baimg.eq(i).addClass("banner-mark").siblings().removeClass("banner-mark")}},{key:"autoplay",value:function(){var i=this;clearInterval(i.timer),this.timer=setInterval(function(){i.right.click()},2e3)}}]),i)).init()}(jQuery),function(i){if(i.cookie("username")){var t=i.cookie("username");i("#loginBox").html(' <span class="hi">Hi~'+t+'</span>\n        [ <a id="out-url" href="javascript:;" class="loginout">退出</a> ]')}i(".loginout").on("click",function(){confirm("是否退出账号")&&(i.cookie("username","",{expires:-1}),location.reload())})}(jQuery),function(n){function i(i,t,e){n(i).on(t,function(){n(e).hide()})}i(".icon-del","click",".code-down-box"),i(".close","click","#cover"),n(".contain-third").has(".third-nav-wrapper").children("a").on("click",function(i){this==i.target&&(n(this).next(".third-nav-wrapper").is(":hidden")?(n(".contain-third").children(".third-nav-wrapper").hide(),n(this).next(".third-nav-wrapper").show()):n(this).next(".third-nav-wrapper").hide())})}(jQuery),function(i){var t=location.search.split("=")[1];i.ajax({type:"GET",url:"http://10.31.158.25/1905/YOho_lipengpeng/php/details.php",data:{id:t},dataType:"JSON"}).done(function(e){i(".img-show").attr("src",e[0].pictrue).attr("alt",e[0].title),i("#big").attr("src",e[0].pictrue),i(".pull-right .name").html(e[0].title),i(".price-row .has-other-price").html("￥"+e[0].Oprice),i(".promotion-price .price").html("￥"+e[0].price),i(".desc .promotion").html((e[0].price/e[0].Oprice*10).toFixed(2)+"折");var n=e[0].image.split(","),o="";i(n).each(function(i,t){o+='<div class="thumb-wrap">\n\t\t\t<img class="thumb active"\n\t\t\t\tsrc="'+n[i]+'"\n\t\t\t\talt="'+e[0].title+'"\n\t\t\t>\n\t\t</div>'}),i("#thumbs").html(o);var a=e[0].style.split(","),c="";i(a).each(function(i,t){c+='<li class="pull-left" title="'+e[0].title+" "+a[i]+'" data-color="'+a[i]+'" data-total="15">\n\t\t\t<span class="color-name">'+a[i]+"</span>\n\t\t\t</li>"}),i("#type-chose .colors").html(c)})}(jQuery),function(n){n("#min-img").hover(function(){n("#min-img .move-object").removeClass("hide"),n("#max").removeClass("hide");var i=n("#min-img .move-object").width()/n("#img-show").width()*n("#big").width(),t=n("#min-img .move-object").height()/n("#img-show").height()*n("#big").height();n("#max").css({width:i,height:t}),n("#min-img").on("mousemove",function(i){var t=i.pageX-n("#min-img").offset().left-n("#min-img .move-object").width()/2,e=i.pageY-n("#min-img").offset().top-n("#min-img .move-object").height()/2;t<0&&(t=0),t>n("#img-show").width()-n("#min-img .move-object").width()-2&&(t=n("#img-show").width()-n("#min-img .move-object").width()-2),e<0&&(e=0),e>n("#img-show").height()-n("#min-img .move-object").height()-2&&(e=n("#img-show").height()-n("#min-img .move-object").height()-2),n("#min-img .move-object").css({left:t,top:e}),n("#big").css({left:-t/n("#img-show").width()*n("#big").width(),top:-e/n("#img-show").height()*n("#big").height()})})},function(){n("#min-img .move-object").addClass("hide"),n("#max").addClass("hide")})}(jQuery),function(i){i("#thumbs").on("mouseover",function(){i(this).find(".thumb").on("click",function(){i(".img-show").attr("src",this.src),i("#big").attr("src",this.src)})})}(jQuery),function(n){var i=parseInt(n("#num").html());n("#minus-num").on("click",function(){--i<0&&(i=0),n("#num").html(i)}),n("#plus-num").on("click",function(){i++,n("#num").html(i)});var o=[],a=[];n("#add-to-cart").on("click",function(){var i=location.search.split("=")[1],t=parseInt(n("#num").html());if(n.cookie("id")&&n.cookie("num")&&(o=n.cookie("id").split(","),a=n.cookie("num").split(",")),-1==o.indexOf(i))o.push(i),a.push(t),n.cookie("id",o.toString()),n.cookie("num",a.toString());else{var e=o.indexOf(i);a[e]=+a[e]+ +t,n.cookie("num",a.toString())}n(".product-detail-page .main .balance").css({display:"block"})}),n("#keep-shopping").on("click",function(){n(".product-detail-page .main .balance").css({display:"none"})})}(jQuery);